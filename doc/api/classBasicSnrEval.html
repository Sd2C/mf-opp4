<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Mobility Framework: BasicSnrEval Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>BasicSnrEval Class Reference<br>
<small>
[<a class="el" href="group__snrEval.html">snrEval - modules for attenuation and interference calculation</a>,&nbsp;<a class="el" href="group__basicModules.html">basicModules - basic module classes of the MF</a>]</small>
</h1><!-- doxytag: class="BasicSnrEval" --><!-- doxytag: inherits="ChannelAccess" -->The basic class for all snrEval modules.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="BasicSnrEval_8h-source.html">BasicSnrEval.h</a>&gt;</code>
<p>
Inherits <a class="el" href="classChannelAccess.html">ChannelAccess</a>.
<p>
Inherited by <a class="el" href="classSnrEval.html">SnrEval</a>, and <a class="el" href="classTestSnrEval.html">TestSnrEval</a>.
<p>
Inheritance diagram for BasicSnrEval:<p><center><img src="classBasicSnrEval__inherit__graph.png" border="0" usemap="#BasicSnrEval__inherit__map" alt="Inheritance graph"></center>
<map name="BasicSnrEval__inherit__map">
<area href="classSnrEval.html" shape="rect" coords="94,308,161,332" alt="">
<area href="classTestSnrEval.html" shape="rect" coords="185,308,278,332" alt="">
<area href="classChannelAccess.html" shape="rect" coords="122,158,237,182" alt="">
<area href="classBasicModule.html" shape="rect" coords="130,84,229,108" alt="">
<area href="classImNotifiable.html" shape="rect" coords="134,9,225,33" alt="">
<area href="classGilbertElliotSnr.html" shape="rect" coords="7,382,117,406" alt="">
<area href="classSnrEval80211.html" shape="rect" coords="141,382,245,406" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for BasicSnrEval:<p><center><img src="classBasicSnrEval__coll__graph.png" border="0" usemap="#BasicSnrEval__coll__map" alt="Collaboration graph"></center>
<map name="BasicSnrEval__coll__map">
<area href="classChannelAccess.html" shape="rect" coords="255,214,370,238" alt="">
<area href="classBasicModule.html" shape="rect" coords="94,113,193,137" alt="">
<area href="classImNotifiable.html" shape="rect" coords="7,9,98,33" alt="">
<area href="classBlackboard.html" shape="rect" coords="122,9,210,33" alt="">
<area href="classHostMove.html" shape="rect" coords="355,113,435,137" alt="">
<area href="classBBItem.html" shape="rect" coords="471,9,538,33" alt="">
<area href="classActiveChannel.html" shape="rect" coords="471,163,581,187" alt="">
<area href="classCoord.html" shape="rect" coords="298,9,357,33" alt="">
<area href="classChannelControl.html" shape="rect" coords="217,113,331,137" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classBasicSnrEval-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a0"></a><!-- doxytag: member="BasicSnrEval::Module_Class_Members" ref="a0" args="(BasicSnrEval, ChannelAccess, 0)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>Module_Class_Members</b> (<a class="el" href="classBasicSnrEval.html">BasicSnrEval</a>, <a class="el" href="classChannelAccess.html">ChannelAccess</a>, 0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#a1">initialize</a> (int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialization of the module and some variables.  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a2"></a><!-- doxytag: member="BasicSnrEval::finish" ref="a2" args="()" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>finish</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#a3">handleMessage</a> (cMessage *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called every time a message arrives.  <a href="#a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a4"></a><!-- doxytag: member="BasicSnrEval::receiveBBItem" ref="a4" args="(int category, const BBItem *details, int scopeModuleId)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#a4">receiveBBItem</a> (int category, const <a class="el" href="classBBItem.html">BBItem</a> *details, int scopeModuleId)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called by the <a class="el" href="classBlackboard.html">Blackboard</a> whenever a change occurs we're interested in. <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#x1">BasicSnrMsgKinds</a> { <b>RECEPTION_COMPLETE</b> =  1350101811
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The kind field of messages.  <a href="classBasicSnrEval.html#x1">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b0"></a><!-- doxytag: member="BasicSnrEval::calcDuration" ref="b0" args="(cMessage *)=0" -->
virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#b0">calcDuration</a> (cMessage *)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function calculates the duration of the AirFrame. <br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Handle Messages</div></td></tr>
<tr><td colspan="2"><div class="groupText">Functions to redefine by the programmer<p>
These are the functions provided to add own functionality to your modules. These functions are called whenever a blackboard message, a self message or a data message from the upper or lower layer arrives respectively.<br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#z20_0">handleUpperMsg</a> (AirFrame *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fill the header fields, redefine for your own needs...  <a href="#z20_0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#z20_1">handleSelfMsg</a> (cMessage *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle self messages such as timer...  <a href="#z20_1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#z20_2">handleLowerMsgStart</a> (AirFrame *)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculate Snr Information before buffering.  <a href="#z20_2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#z20_3">handleLowerMsgEnd</a> (AirFrame *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculate SnrInfo after buffering and add the PhySnrList to the message.  <a href="#z20_3"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Convenience Functions</div></td></tr>
<tr><td colspan="2"><div class="groupText">Functions for convenience - NOT to be modified<p>
These are functions taking care of message encapsulation and message sending. Normally you should not need to alter these but should use them to handle message encasulation and sending. They will wirte all necessary information into packet headers and add or strip the appropriate headers for each layer.<br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#z21_0">bufferMsg</a> (AirFrame *frame)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Buffers message for 'transmission time'.  <a href="#z21_0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">AirFrame *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#z21_1">unbufferMsg</a> (cMessage *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unbuffers a message after 'transmission time'.  <a href="#z21_1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#z21_2">sendUp</a> (AirFrame *, const <a class="el" href="group__basicUtils.html#ga0">SnrList</a> &amp;)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a message to the upper layer.  <a href="#z21_2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#z21_3">sendDown</a> (AirFrame *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a message to the channel.  <a href="#z21_3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#z21_4">sendControlUp</a> (cMessage *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a control message to the upper layer.  <a href="#z21_4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">AirFrame *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#z21_5">encapsMsg</a> (cMessage *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Encapsulates a MAC frame into an Air Frame.  <a href="#z21_5"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#p0">headerLength</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#p1">transmitterPower</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">power used to transmit messages  <a href="#p1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#p2">carrierFrequency</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">carrier frequency used to send messages  <a href="#p2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#p3">sensitivity</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">signal attenuation threshold  <a href="#p3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#p4">alpha</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">path loss coefficient  <a href="#p4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p5"></a><!-- doxytag: member="BasicSnrEval::coreDebug" ref="p5" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#p5">coreDebug</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">debug this core module? <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p6"></a><!-- doxytag: member="BasicSnrEval::txOverTimer" ref="p6" args="" -->
cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#p6">txOverTimer</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Timer to indicate the end of a transmission to a higher layer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p7"></a><!-- doxytag: member="BasicSnrEval::channel" ref="p7" args="" -->
<a class="el" href="classActiveChannel.html">ActiveChannel</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#p7">channel</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Currently active channel, set using radio, updated via BB. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p8"></a><!-- doxytag: member="BasicSnrEval::catActiveChannel" ref="p8" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#p8">catActiveChannel</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">category number given by bb for <a class="el" href="classActiveChannel.html">ActiveChannel</a> <br></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z19_0"></a><!-- doxytag: member="BasicSnrEval::uppergateOut" ref="z19_0" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#z19_0">uppergateOut</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">gate id <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z19_1"></a><!-- doxytag: member="BasicSnrEval::uppergateIn" ref="z19_1" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#z19_1">uppergateIn</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">gate id <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z19_2"></a><!-- doxytag: member="BasicSnrEval::upperControlOut" ref="z19_2" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#z19_2">upperControlOut</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">gate id <br></td></tr>
<tr><td colspan="2"><br><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="t0"></a><!-- doxytag: member="BasicSnrEval::speedOfLight" ref="t0" args="" -->
static const double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicSnrEval.html#t0">speedOfLight</a> = <a class="el" href="classChannelControl.html#s0">ChannelControl::speedOfLight</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Speed of light. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The basic class for all snrEval modules. 
<p>
The BasicSnrEval module provides functionality like en- and decapsulation of messages. If you use the standard message formats everythng should work fine. Before a packet is sent some information, e.g. transmission power, can be written to the AirFrame header. If you write your own snrEval, just subclass and redefine the handleUpperMsg function (see description of the function). After receiving a message it can be processed in handleLowerMsgStart. Then it is buffered for the time the transmission would last in reality, and then can be handled again. Again you can redefine the 1. handleLowerMsgStart and 2. handleLowerMsgEnd for your own needs (see description). So, the call of these functions represent the following events: 1. received a message (i.e. transmission startet) 2. message will be handed on to the upper layer (i.e. transmission time is over)<p>
<dl compact><dt><b>Author:</b></dt><dd>Marc Loebbers <p>
Andreas Koepke <p>
Daniel Willkomm</dd></dl>

<p>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="x1"></a><!-- doxytag: member="BasicSnrEval::BasicSnrMsgKinds" ref="x1" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="classBasicSnrEval.html#x1">BasicSnrEval::BasicSnrMsgKinds</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The kind field of messages. 
<p>
that are used internally by this class have one of these values    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="z21_0"></a><!-- doxytag: member="BasicSnrEval::bufferMsg" ref="z21_0" args="(AirFrame *frame)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void BasicSnrEval::bufferMsg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">AirFrame *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>frame</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Buffers message for 'transmission time'. 
<p>
The packet is put in a buffer for the time the transmission would last in reality. A timer indicates when the transmission is complete. So, look at unbufferMsg to see what happens when the transmission is complete..    </td>
  </tr>
</table>
<a class="anchor" name="z21_5"></a><!-- doxytag: member="BasicSnrEval::encapsMsg" ref="z21_5" args="(cMessage *msg)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">AirFrame * BasicSnrEval::encapsMsg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Encapsulates a MAC frame into an Air Frame. 
<p>
This function encapsulates messages from the upper layer into an AirFrame, copies the type and channel fields, adds the headerLength, sets the pSend (transmitterPower) and returns the AirFrame.
<p>
Reimplemented in <a class="el" href="classSnrEval80211.html#b0">SnrEval80211</a>.    </td>
  </tr>
</table>
<a class="anchor" name="z20_3"></a><!-- doxytag: member="BasicSnrEval::handleLowerMsgEnd" ref="z20_3" args="(AirFrame *)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void BasicSnrEval::handleLowerMsgEnd           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">AirFrame *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Calculate SnrInfo after buffering and add the PhySnrList to the message. 
<p>
Redefine this function if you want to process messages from the channel before they are forwarded to upper layers
<p>
Reimplemented in <a class="el" href="classGilbertElliotSnr.html#b2">GilbertElliotSnr</a>, and <a class="el" href="classSnrEval.html#b1">SnrEval</a>.    </td>
  </tr>
</table>
<a class="anchor" name="z20_2"></a><!-- doxytag: member="BasicSnrEval::handleLowerMsgStart" ref="z20_2" args="(AirFrame *)=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void BasicSnrEval::handleLowerMsgStart           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">AirFrame *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Calculate Snr Information before buffering. 
<p>
This function is called right after a message is received, i.e. right before it is buffered for 'transmission time'.<p>
Here you should decide whether the message is "really" received or whether it's receive power is so low that it is just treated as noise.<p>
If the energy of the message is high enough to really receive it you should create an snr list (<a class="el" href="group__basicUtils.html#ga0">SnrList</a>) to be able to store sn(i)r information for that message. Every time a new message arrives you can add a new snr value together with a timestamp to that list. Make sure to store a pointer to the mesage together with the snr information to be able to retrieve it later.<p>
In this function also an initial SNR value can be calculated for this message.<p>
Please take a look at <a class="el" href="classSnrEval.html">SnrEval</a> to see a "real" example.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__basicUtils.html#ga0">SnrList</a>, <a class="el" href="classSnrEval.html">SnrEval</a></dd></dl>

<p>
Implemented in <a class="el" href="classGilbertElliotSnr.html#b1">GilbertElliotSnr</a>, <a class="el" href="classSnrEval.html#b0">SnrEval</a>, and <a class="el" href="classTestSnrEval.html#b1">TestSnrEval</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3"></a><!-- doxytag: member="BasicSnrEval::handleMessage" ref="a3" args="(cMessage *)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void BasicSnrEval::handleMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called every time a message arrives. 
<p>
The basic handle message function.<p>
Depending on the gate a message arrives handleMessage just calls different handle*Msg functions to further process the message.<p>
Messages from the channel are also buffered here in order to simulate a transmission delay<p>
You should not make any changes in this function but implement all your functionality into the handle*Msg functions called from here.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classBasicSnrEval.html#z20_0">handleUpperMsg</a>, <a class="el" href="classBasicSnrEval.html#z20_2">handleLowerMsgStart</a>, <a class="el" href="classBasicSnrEval.html#z20_3">handleLowerMsgEnd</a>, <a class="el" href="classBasicSnrEval.html#z20_1">handleSelfMsg</a></dd></dl>

<p>
Reimplemented in <a class="el" href="classSnrEval80211.html#a2">SnrEval80211</a>.    </td>
  </tr>
</table>
<a class="anchor" name="z20_1"></a><!-- doxytag: member="BasicSnrEval::handleSelfMsg" ref="z20_1" args="(cMessage *msg)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void BasicSnrEval::handleSelfMsg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handle self messages such as timer... 
<p>
Define this function if you want to process timer or other kinds of self messages
<p>
Reimplemented in <a class="el" href="classGilbertElliotSnr.html#b0">GilbertElliotSnr</a>.    </td>
  </tr>
</table>
<a class="anchor" name="z20_0"></a><!-- doxytag: member="BasicSnrEval::handleUpperMsg" ref="z20_0" args="(AirFrame *)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void BasicSnrEval::handleUpperMsg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">AirFrame *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>frame</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Fill the header fields, redefine for your own needs... 
<p>
Redefine this function if you want to process messages from upper layers before they are send to the channel.<p>
The MAC frame is already encapsulated in an AirFrame and all standard header fields are set.    </td>
  </tr>
</table>
<a class="anchor" name="a1"></a><!-- doxytag: member="BasicSnrEval::initialize" ref="a1" args="(int)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void BasicSnrEval::initialize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>stage</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialization of the module and some variables. 
<p>
First we have to initialize the module from which we derived ours, in this case <a class="el" href="classChannelAccess.html">ChannelAccess</a>.<p>
Then we have to intialize the gates and - if necessary - some own variables.<p>
If you want to use your own AirFrames you have to redefine createCapsulePkt function.
<p>
Reimplemented from <a class="el" href="classChannelAccess.html#a0">ChannelAccess</a>.
<p>
Reimplemented in <a class="el" href="classGilbertElliotSnr.html#a0">GilbertElliotSnr</a>, <a class="el" href="classSnrEval.html#a0">SnrEval</a>, and <a class="el" href="classSnrEval80211.html#a1">SnrEval80211</a>.    </td>
  </tr>
</table>
<a class="anchor" name="z21_4"></a><!-- doxytag: member="BasicSnrEval::sendControlUp" ref="z21_4" args="(cMessage *)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void BasicSnrEval::sendControlUp           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sends a control message to the upper layer. 
<p>
send a control message to the upper layer    </td>
  </tr>
</table>
<a class="anchor" name="z21_3"></a><!-- doxytag: member="BasicSnrEval::sendDown" ref="z21_3" args="(AirFrame *msg)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void BasicSnrEval::sendDown           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">AirFrame *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sends a message to the channel. 
<p>
Convenience function which calls sendToChannel with delay set to 0.0.<p>
It also schedules the txOverTimer which indicates the end of transmission to upper layers.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classChannelAccess.html#b0">sendToChannel</a></dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="z21_2"></a><!-- doxytag: member="BasicSnrEval::sendUp" ref="z21_2" args="(AirFrame *, const SnrList &amp;)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void BasicSnrEval::sendUp           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">AirFrame *&nbsp;</td>
          <td class="mdname" nowrap> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="group__basicUtils.html#ga0">SnrList</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>list</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sends a message to the upper layer. 
<p>
Attach control info to the message and send message to the upper layer.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>AirFrame to pass to the decider </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>list</em>&nbsp;</td><td>Snr list to attach as control info</td></tr>
  </table>
</dl>
to be called within <a class="el" href="classBasicSnrEval.html#z20_3">handleLowerMsgEnd</a>.    </td>
  </tr>
</table>
<a class="anchor" name="z21_1"></a><!-- doxytag: member="BasicSnrEval::unbufferMsg" ref="z21_1" args="(cMessage *msg)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">AirFrame * BasicSnrEval::unbufferMsg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Unbuffers a message after 'transmission time'. 
<p>
Get the context pointer to the now completely received AirFrame and delete the self message    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="p4"></a><!-- doxytag: member="BasicSnrEval::alpha" ref="p4" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="classBasicSnrEval.html#p4">BasicSnrEval::alpha</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
path loss coefficient 
<p>
The path loss coefficient is initially set to the minimum path loss coefficient possible defined in the <a class="el" href="classChannelControl.html">ChannelControl</a> module.<p>
It can be changed by the user but NEVER to a smaller value than defined in <a class="el" href="classChannelControl.html">ChannelControl</a>.    </td>
  </tr>
</table>
<a class="anchor" name="p2"></a><!-- doxytag: member="BasicSnrEval::carrierFrequency" ref="p2" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="classBasicSnrEval.html#p2">BasicSnrEval::carrierFrequency</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
carrier frequency used to send messages 
<p>
The carrier frequency is initially set to the minimum carrier frequency defined in the <a class="el" href="classChannelControl.html">ChannelControl</a> module.<p>
It can be changed by the user but NEVER to a smaller value than defined in <a class="el" href="classChannelControl.html">ChannelControl</a>.    </td>
  </tr>
</table>
<a class="anchor" name="p0"></a><!-- doxytag: member="BasicSnrEval::headerLength" ref="p0" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="classBasicSnrEval.html#p0">BasicSnrEval::headerLength</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
brief a parameter that has to be read in from omnetpp.ini     </td>
  </tr>
</table>
<a class="anchor" name="p3"></a><!-- doxytag: member="BasicSnrEval::sensitivity" ref="p3" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="classBasicSnrEval.html#p3">BasicSnrEval::sensitivity</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
signal attenuation threshold 
<p>
The signal attenuation threshold is initially set to the minimum signal attenuation threshold possible defined in the <a class="el" href="classChannelControl.html">ChannelControl</a> module.<p>
It can be changed by the user but NEVER to a smaller value than defined in <a class="el" href="classChannelControl.html">ChannelControl</a>.    </td>
  </tr>
</table>
<a class="anchor" name="p1"></a><!-- doxytag: member="BasicSnrEval::transmitterPower" ref="p1" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="classBasicSnrEval.html#p1">BasicSnrEval::transmitterPower</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
power used to transmit messages 
<p>
The transmission power is initially set to the maximal transmission power possible defined in the <a class="el" href="classChannelControl.html">ChannelControl</a> module.<p>
It can be changed by the user but NEVER to a bigger value than defined in <a class="el" href="classChannelControl.html">ChannelControl</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="BasicSnrEval_8h-source.html">BasicSnrEval.h</a><li>BasicSnrEval.cc</ul>
<hr size="1"><address style="align: right;"><small>Generated on Fri Jan 12 08:29:43 2007 for Mobility Framework by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.4 </small></address>
</body>
</html>
