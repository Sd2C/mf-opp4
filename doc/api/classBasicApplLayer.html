<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Mobility Framework: BasicApplLayer Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>BasicApplLayer Class Reference<br>
<small>
[<a class="el" href="group__applLayer.html">applLayer - application layer modules</a>]</small>
</h1><!-- doxytag: class="BasicApplLayer" --><!-- doxytag: inherits="BasicModule" -->Basic class for the application layer.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="BasicApplLayer_8h-source.html">BasicApplLayer.h</a>&gt;</code>
<p>
Inherits <a class="el" href="classBasicModule.html">BasicModule</a>.
<p>
Inherited by <a class="el" href="classClientApplLayer.html">ClientApplLayer</a>, and <a class="el" href="classTestApplLayer.html">TestApplLayer</a>.
<p>
Inheritance diagram for BasicApplLayer:<p><center><img src="classBasicApplLayer__inherit__graph.png" border="0" usemap="#BasicApplLayer__inherit__map" alt="Inheritance graph"></center>
<map name="BasicApplLayer__inherit__map">
<area href="classClientApplLayer.html" shape="rect" coords="8,233,122,257" alt="">
<area href="classTestApplLayer.html" shape="rect" coords="146,233,253,257" alt="">
<area href="classBasicModule.html" shape="rect" coords="82,83,181,107" alt="">
<area href="classImNotifiable.html" shape="rect" coords="86,9,177,33" alt="">
<area href="classPollApplLayer.html" shape="rect" coords="14,307,116,331" alt="">
<area href="classBurstApplLayer.html" shape="rect" coords="144,307,256,331" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for BasicApplLayer:<p><center><img src="classBasicApplLayer__coll__graph.png" border="0" usemap="#BasicApplLayer__coll__map" alt="Collaboration graph"></center>
<map name="BasicApplLayer__coll__map">
<area href="classBasicModule.html" shape="rect" coords="59,99,158,123" alt="">
<area href="classImNotifiable.html" shape="rect" coords="7,9,98,33" alt="">
<area href="classBlackboard.html" shape="rect" coords="122,9,210,33" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classBasicApplLayer-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a0"></a><!-- doxytag: member="BasicApplLayer::Module_Class_Members" ref="a0" args="(BasicApplLayer, BasicModule, 0)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>Module_Class_Members</b> (<a class="el" href="classBasicApplLayer.html">BasicApplLayer</a>, <a class="el" href="classBasicModule.html">BasicModule</a>, 0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicApplLayer.html#a1">initialize</a> (int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialization of the module and some variables.  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicApplLayer.html#a2">handleMessage</a> (cMessage *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called every time a message arrives.  <a href="#a2"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicApplLayer.html#b0">myApplAddr</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return my application layer address.  <a href="#b0"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Handle Messages</div></td></tr>
<tr><td colspan="2"><div class="groupText">Functions to redefine by the programmer<p>
These are the functions provided to add own functionality to your modules. These functions are called whenever a self message or a data message from the upper or lower layer arrives respectively.<br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicApplLayer.html#z1_0">handleSelfMsg</a> (cMessage *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle self messages such as timer...  <a href="#z1_0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicApplLayer.html#z1_1">handleLowerMsg</a> (cMessage *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle messages from lower layer.  <a href="#z1_1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicApplLayer.html#z1_2">handleLowerControl</a> (cMessage *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle control messages from lower layer.  <a href="#z1_2"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Convenience Functions</div></td></tr>
<tr><td colspan="2"><div class="groupText">Functions for convenience - NOT to be modified<p>
These are functions taking care of message encapsulation and message sending. Normally you should not need to alter these but should use them to handle message encasulation and sending. They will wirte all necessary information into packet headers and add or strip the appropriate headers for each layer.<br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicApplLayer.html#z2_0">sendDown</a> (cMessage *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a message to the lower layer.  <a href="#z2_0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicApplLayer.html#z2_1">sendDelayedDown</a> (cMessage *, double)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a message to the lower layer; waits delay seconds before sending.  <a href="#z2_1"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicApplLayer.html#p0">headerLength</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Length of the ApplPkt header.  <a href="#p0"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z0_0"></a><!-- doxytag: member="BasicApplLayer::lowergateIn" ref="z0_0" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicApplLayer.html#z0_0">lowergateIn</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">gate id <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z0_1"></a><!-- doxytag: member="BasicApplLayer::lowerControlIn" ref="z0_1" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicApplLayer.html#z0_1">lowerControlIn</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">gate id <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="z0_2"></a><!-- doxytag: member="BasicApplLayer::lowergateOut" ref="z0_2" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasicApplLayer.html#z0_2">lowergateOut</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">gate id <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Basic class for the application layer. 
<p>
This is the generic class for all application layer modules. If you want to implement your own application layer you have to subclass your module from this class.<p>
<dl compact><dt><b>Author:</b></dt><dd>Daniel Willkomm</dd></dl>

<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="z1_2"></a><!-- doxytag: member="BasicApplLayer::handleLowerControl" ref="z1_2" args="(cMessage *msg)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void BasicApplLayer::handleLowerControl           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handle control messages from lower layer. 
<p>
The basic application layer just silently deletes all messages it receives.    </td>
  </tr>
</table>
<a class="anchor" name="z1_1"></a><!-- doxytag: member="BasicApplLayer::handleLowerMsg" ref="z1_1" args="(cMessage *msg)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void BasicApplLayer::handleLowerMsg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handle messages from lower layer. 
<p>
Redefine this function if you want to process messages from lower layers.<p>
The basic application layer just silently deletes all messages it receives.
<p>
Reimplemented in <a class="el" href="classClientApplLayer.html#b0">ClientApplLayer</a>, <a class="el" href="classPollApplLayer.html#b0">PollApplLayer</a>, and <a class="el" href="classTestApplLayer.html#b1">TestApplLayer</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2"></a><!-- doxytag: member="BasicApplLayer::handleMessage" ref="a2" args="(cMessage *)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void BasicApplLayer::handleMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called every time a message arrives. 
<p>
The basic handle message function.<p>
Depending on the gate a message arrives handleMessage just calls different handle message functions to further process the message.<p>
You should not make any changes in this function but implement all your functionality into the handle*Msg functions called from here.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classBasicApplLayer.html#z1_1">handleLowerMsg</a>, <a class="el" href="classBasicApplLayer.html#z1_0">handleSelfMsg</a></dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="z1_0"></a><!-- doxytag: member="BasicApplLayer::handleSelfMsg" ref="z1_0" args="(cMessage *msg)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void BasicApplLayer::handleSelfMsg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handle self messages such as timer... 
<p>
Define this function if you want to process timer or other kinds of self messages
<p>
Reimplemented in <a class="el" href="classBurstApplLayer.html#b0">BurstApplLayer</a>, <a class="el" href="classPollApplLayer.html#b1">PollApplLayer</a>, and <a class="el" href="classTestApplLayer.html#b0">TestApplLayer</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1"></a><!-- doxytag: member="BasicApplLayer::initialize" ref="a1" args="(int)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void BasicApplLayer::initialize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>stage</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialization of the module and some variables. 
<p>
First we have to initialize the module from which we derived ours, in this case <a class="el" href="classBasicModule.html">BasicModule</a>.<p>
Then we have to intialize the gates and - if necessary - some own variables.
<p>
Reimplemented from <a class="el" href="classBasicModule.html#a1">BasicModule</a>.
<p>
Reimplemented in <a class="el" href="classBurstApplLayer.html#a1">BurstApplLayer</a>, <a class="el" href="classPollApplLayer.html#a1">PollApplLayer</a>, and <a class="el" href="classTestApplLayer.html#a1">TestApplLayer</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b0"></a><!-- doxytag: member="BasicApplLayer::myApplAddr" ref="b0" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual const int BasicApplLayer::myApplAddr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return my application layer address. 
<p>
We use the network module index as application address    </td>
  </tr>
</table>
<a class="anchor" name="z2_1"></a><!-- doxytag: member="BasicApplLayer::sendDelayedDown" ref="z2_1" args="(cMessage *, double)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void BasicApplLayer::sendDelayedDown           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname" nowrap> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>delay</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sends a message to the lower layer; waits delay seconds before sending. 
<p>
Send message down to lower layer after delay seconds    </td>
  </tr>
</table>
<a class="anchor" name="z2_0"></a><!-- doxytag: member="BasicApplLayer::sendDown" ref="z2_0" args="(cMessage *)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void BasicApplLayer::sendDown           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sends a message to the lower layer. 
<p>
Send message down to lower layer    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="p0"></a><!-- doxytag: member="BasicApplLayer::headerLength" ref="p0" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="classBasicApplLayer.html#p0">BasicApplLayer::headerLength</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Length of the ApplPkt header. 
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>for now it is read from omnetpp.ini but should be easily settable by the user later </dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="BasicApplLayer_8h-source.html">BasicApplLayer.h</a><li>BasicApplLayer.cc</ul>
<hr size="1"><address style="align: right;"><small>Generated on Fri Jan 12 08:29:37 2007 for Mobility Framework by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.4 </small></address>
</body>
</html>
