<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Mobility Framework: SnrDecider Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>SnrDecider Class Reference<br>
<small>
[<a class="el" href="group__decider.html">decider - decider modules</a>]</small>
</h1><!-- doxytag: class="SnrDecider" --><!-- doxytag: inherits="BasicDecider" -->a simple snr decider...  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="SnrDecider_8h-source.html">SnrDecider.h</a>&gt;</code>
<p>
Inherits <a class="el" href="classBasicDecider.html">BasicDecider</a>.
<p>
Inherited by <a class="el" href="classErrAndCollDecider.html">ErrAndCollDecider</a>.
<p>
Inheritance diagram for SnrDecider:<p><center><img src="classSnrDecider__inherit__graph.png" border="0" usemap="#SnrDecider__inherit__map" alt="Inheritance graph"></center>
<map name="SnrDecider__inherit__map">
<area href="classErrAndCollDecider.html" shape="rect" coords="7,307,138,331" alt="">
<area href="classBasicDecider.html" shape="rect" coords="23,158,122,182" alt="">
<area href="classBasicModule.html" shape="rect" coords="23,83,122,107" alt="">
<area href="classImNotifiable.html" shape="rect" coords="27,9,118,33" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for SnrDecider:<p><center><img src="classSnrDecider__coll__graph.png" border="0" usemap="#SnrDecider__coll__map" alt="Collaboration graph"></center>
<map name="SnrDecider__coll__map">
<area href="classBasicDecider.html" shape="rect" coords="59,177,158,201" alt="">
<area href="classBasicModule.html" shape="rect" coords="59,100,158,124" alt="">
<area href="classImNotifiable.html" shape="rect" coords="7,9,98,33" alt="">
<area href="classBlackboard.html" shape="rect" coords="122,9,210,33" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classSnrDecider-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a0"></a><!-- doxytag: member="SnrDecider::Module_Class_Members" ref="a0" args="(SnrDecider, BasicDecider, 0)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>Module_Class_Members</b> (<a class="el" href="classSnrDecider.html">SnrDecider</a>, <a class="el" href="classBasicDecider.html">BasicDecider</a>, 0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSnrDecider.html#a1">initialize</a> (int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialization of the module and some variables.  <a href="#a1"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSnrDecider.html#b0">snrOverThreshold</a> (const <a class="el" href="group__basicUtils.html#ga0">SnrList</a> &amp;) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSnrDecider.html#b1">handleLowerMsg</a> (AirFrame *, const <a class="el" href="group__basicUtils.html#ga0">SnrList</a> &amp;)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">In this function the decision whether a frame is received correctly or not is made.  <a href="#b1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSnrDecider.html#b2">handleSelfMsg</a> (cMessage *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle self messages such as timer...  <a href="#b2"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSnrDecider.html#p0">snrThresholdLevel</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Level for decision [mW].  <a href="#p0"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
a simple snr decider... 
<p>
This decider simply takes a look at the sduList contained in the received PhySDU packet and checks whether one of the mentioned snr levels is lower than the snrThresholdLevel which has to be read in at the beginning of a simulation. (suggestion: from the omnetpp.ini file!)<p>
<dl compact><dt><b>Author:</b></dt><dd>Marc Löbbers, Andreas Koepke</dd></dl>

<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b1"></a><!-- doxytag: member="SnrDecider::handleLowerMsg" ref="b1" args="(AirFrame *, const SnrList &amp;)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SnrDecider::handleLowerMsg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">AirFrame *&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="group__basicUtils.html#ga0">SnrList</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
In this function the decision whether a frame is received correctly or not is made. 
<p>
Redefine this function if you want to process messages from the channel before they are forwarded to upper layers<p>
In this function it has to be decided whether this message got lost or not. This can be done with a simple SNR threshold or with transformations of SNR into bit error probabilities...<p>
Afterwrads the message has to be decapsulated (<a class="el" href="classBasicDecider.html#b1">decapsMsg</a>) and send to the MAC layer (<a class="el" href="classBasicDecider.html#b0">sendUp</a>)<p>
just an example how to handle the snrList...:<p>
bool correct = true; //check the entries in the snrList if a level greater than the //acceptable minimum occured: double min = 0.0000000000000001; // just a senseless example<p>
for (SnrList::iterator iter = snrList.begin(); iter != snrList.end(); iter++){ if (iter-&gt;snr &lt; min) correct = false; }<p>
if (correct){ sendUp(frame); } else{ delete frame; }
<p>
Implements <a class="el" href="classBasicDecider.html#z14_1">BasicDecider</a>.
<p>
Reimplemented in <a class="el" href="classErrAndCollDecider.html#b0">ErrAndCollDecider</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b2"></a><!-- doxytag: member="SnrDecider::handleSelfMsg" ref="b2" args="(cMessage *msg)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void SnrDecider::handleSelfMsg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handle self messages such as timer... 
<p>
Define this function if you want to timer or other kinds of self messages
<p>
Implements <a class="el" href="classBasicDecider.html#z14_0">BasicDecider</a>.
<p>
Reimplemented in <a class="el" href="classErrAndCollDecider.html#b1">ErrAndCollDecider</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1"></a><!-- doxytag: member="SnrDecider::initialize" ref="a1" args="(int)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SnrDecider::initialize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>stage</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialization of the module and some variables. 
<p>
First we have to initialize the module from which we derived ours, in this case <a class="el" href="classBasicModule.html">BasicModule</a>.<p>
Then we have to intialize the gates and - if necessary - some own variables.
<p>
Reimplemented from <a class="el" href="classBasicDecider.html#a0">BasicDecider</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b0"></a><!-- doxytag: member="SnrDecider::snrOverThreshold" ref="b0" args="(const SnrList &amp;) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool SnrDecider::snrOverThreshold           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="group__basicUtils.html#ga0">SnrList</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>snrlist</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Checks the received sduList (from the PhySDU header) if it contains an snr level above the threshold    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="p0"></a><!-- doxytag: member="SnrDecider::snrThresholdLevel" ref="p0" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double <a class="el" href="classSnrDecider.html#p0">SnrDecider::snrThresholdLevel</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Level for decision [mW]. 
<p>
When a packet contains an snr level higher than snrThresholdLevel it will be considered as lost. This parameter has to be specified at the beginning of a simulation (omnetpp.ini) in dBm.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="SnrDecider_8h-source.html">SnrDecider.h</a><li>SnrDecider.cc</ul>
<hr size="1"><address style="align: right;"><small>Generated on Fri Jan 12 08:30:20 2007 for Mobility Framework by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.4 </small></address>
</body>
</html>
